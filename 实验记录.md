GSM8k

SL 256 --LIMIT 100

pure_llada:: ACC: 66, SRR: 1, Tps: 0.42 



| 3-phase | threshold=0.25                 |         marginal ds 0.3         | marginal ds 0.4 |
| ------- | ------------------------------ | :-----------------------------: | --------------- |
| N=2     | acc57, SRR3.71, Tps1.63(3.88X) |         acc53, SRR2.43          |                 |
| N=3     | acc61, SRR4.86, Tps2.09(4.98X) |         acc60, SRR2.99          |                 |
| N=4     | acc63, SRR6.08, Tps2.62(6.24X) |         acc61, SRR3.74          | acc67, SRR3.82  |
| N=5     | acc63, SRR7.18, Tps3.10(7.38X) |         acc58, SRR4.56          | acc59, SRR4.59  |
| N=6     | acc65, SRR8.15, Tps3.58(8.52X) |         acc63, SRR5.06          | acc68, SRR5.20  |
| N=7     | acc67, SRR8.79, Tps3.79(9.02X) |         acc61, SRR5.7,          | acc60, SRR5.68  |
| N=8     | acc64, SRR9.51, Tps4.10(9.76X) | acc66, SRR6.11, Tps42.81(6.16X) | acc62, SRR6.01  |
| N=32    | acc34                          |                                 |                 |



| PR weight              | score          | ---------------------------------- |
| ---------------------- | -------------- | :--------------------------------: |
| initial_min_weight=0.1 | acc73, Tps0.43 |                                    |
| initial_min_weight=0.0 | acc74, Tps0.42 |                                    |



| 3-phase + PR weight (exp) | initial_min_weight=0.0, ur_factor=1.0 | ---------------------------------- |
| ------------------------- | ------------------------------------- | :--------------------------------: |
| N=3                       | acc66, SRR5.11, Tps2.20(5.24X)        |                                    |
| N=4                       | acc66, SRR6.34, Tps2.75(6.55X)        |                                    |
| N=5                       | acc67, SRR7.12, Tps3.08(7.33X)        |                                    |
| N=6                       | acc66, SRR7.78, Tps3.33(7.93X)        |                                    |
| N=7                       | acc61, SRR8.52, Tps3.67(8.74X)        |                                    |



| 3-phase + PR weight (exp + acc) | initial_min_weight=0.0, ur_factor=1.2 | ---------------------------------- |
| ------------------------------- | ------------------------------------- | :--------------------------------: |
| N=2                             | acc64, SRR3.81, Tps1.64(3.90X)        |                                    |
| N=3                             | acc66, SRR5.13, Tps2.21(5.26X)        |                                    |
| N=4                             | acc71, SRR6.38, Tps2.75(6.55X)        |                                    |
| N=5                             | acc70, SRR7.20, Tps3.11(7.40X)        |                                    |
| N=6                             | acc69, SRR7.87, Tps3.89(9.26X)        |                                    |
| N=7                             | acc63, SRR8.47, Tps3.61(8.60X)        |                                    |
| N=8                             | acc65, SRR8.91, Tps3.85(9.17X)        |                                    |



| 3-phase + PA weight (exp) | initial_min_weight=0.0         | ---------------------------------- |
| ------------------------- | ------------------------------ | :--------------------------------: |
| N=3                       | acc68, SRR4.83, Tps2.08(4.95X) |                                    |
| N=4                       | acc74, SRR5.79, Tps2.50(5.95X) |                                    |
| N=5                       | acc66, SRR6.61, Tps2.85(6.79X) |                                    |
| N=6                       | acc70, SRR7.74, Tps3.35(7.98X) |                                    |
| N=7                       | acc70, SRR8.52, Tps3.68(8.76X) |                                    |
| N=8                       | acc65, SRR9.04, Tps3.92(9.33X) |                                    |





Gsk8k: 4-shot

HumanEval: 0-shot

MBPP: 3-shot

## non-ar

### LLaDA non-ar baseline

#### SL128

| Task | Score | metrics |
| ---- | ----- | ------- |
|      |       |         |
|      |       |         |

#### SL256

| Task      | Score | metrics |
| --------- | ----- | ------- |
| Gsm8k     | 56.33 | Tps6.94 |
| HumanEval | 12.8  | Tps丢了 |
| MBPP      | 14.6  | Tps8.23 |
| Math-500  | 25.2  | Tps8.77 |
|           |       |         |

#### SL512

| Task      | Score | metrics |
| --------- | ----- | ------- |
| Gsm8k     | 27.52 |         |
| HumanEval | 13.41 |         |
| MBPP      |       |         |
| Math      |       |         |
|           |       |         |



### LLaDA non-ar + PW

initial_min_weight = 0.0

| Task      | Score | metrics |
| --------- | ----- | ------- |
| Gsm8K     | 75.59 |         |
| HumanEval | 36.59 |         |
| MBPP      | 27.6  |         |
| Math500   |       |         |



### DiCo

SL256

**Gsm8K (MD0.4)**

| N    | Score | metrics           |
| ---- | ----- | ----------------- |
| 8    | 60.73 | SRR6.11, TPS41.74 |
| 7    | 61.84 | SRR5.69, Tps39.02 |
| 6    | 64.29 | SRR5.17, Tps35.46 |
| 5    | 61.94 | SRR4.57, Tps31.44 |

**Gsm8k (MD0.3)**

| N    | Score | metrics           |
| ---- | ----- | ----------------- |
| 8    | 60.80 | SRR6.10, TPS41.71 |
| 7    |       |                   |
| 6    | 64.29 | SRR5.16, Tps35.41 |
| 5    |       |                   |

HumanEval

| N    | Score | metrics |
| ---- | ----- | ------- |
| 1    | 17.68 |         |
|      |       |         |

MBPP

| N    | Score | metrics |
| ---- | ----- | ------- |
|      |       |         |
|      |       |         |

hy_math

| N    | Score | metrics |
| ---- | ----- | ------- |
|      |       |         |
|      |       |         |



 ### Fixed Threshold

threshold=0.9

| dataset   | Score | Metris             |
| --------- | ----- | ------------------ |
| Gsm8K     | 55.34 | SRR2.88, Tps19.89  |
| HumanEval | 10.98 | SRR6.25, Tps114.18 |
| MBPP      | 14.6  | SRR3.03, Tps24.91  |
| Math-500  | 25    | SRR2.37, Tps20.33  |



### Factor

factor=1

| dataset   | Score | Metris             |
| --------- | ----- | ------------------ |
| Gsm8K     | 58.23 | SRR4.15, Tps28.77  |
| HumanEval | 13.41 | SRR8.06, Tps146.24 |
| MBPP      | 12    | SRR3.70, Tps30.    |
| Math-500  | 24.2  | SRR3.18, Tps27.56  |







### DiCo+

#### SL256

##### Gsm8k (MD0.4)

| N    | Score   | metrics           |
| ---- | ------- | ----------------- |
| 8    | 63.91 * | SRR6.09, Tps41.76 |
| 7    | 65.73 * | SRR5.66, Tps38.73 |
| 6    | 65.28   | SRR5.16, Tps35.37 |
| 5    | 64.52   | SRR4.52, Tps31.07 |
| 4    | 65.88   | SRR3.93, Tps27.01 |
| 3    | 62.85   | SRR3.24, Tps22.28 |
| 2    | 62.09   | SRR2.55, Tps17.62 |

-- Gsm8k (MD0.4) mopup1

| N    | Score | Metrics           |
| ---- | ----- | ----------------- |
| 7    | 64.29 | SRR4.61, Tps31.74 |
| 6    | 65.73 | SRR4.15, Tps28.60 |
| 5    | 65.35 | SRR3.76, Tps25.91 |
| 4    | 64.52 |                   |

#### HumanEval

w in Exp_only

| N    | Score   | Metrics            |
| ---- | ------- | ------------------ |
| 1    | 37.8    | SRR2.39, Tps43.50  |
| 2    | 20.73   | SRR4.35, Tps77.73  |
| 3    | 24.39   | SRR5.41, Tps96.02  |
| 4    | 21.95   | SRR6.09, Tps107.02 |
| 5    | 22.56   | SRR6.92, Tps122.40 |
| 6    | 23.17   | SRR7.53, Tps130.95 |
| 7    | 24.39   | SRR8.07, Tps141.19 |
| 8    | 23.17 * | SRR8.34, Tps143.23 |

w in both Exp and Acc

| N    | Score | Metrics           |
| ---- | ----- | ----------------- |
| 1    | 35.98 | SRR0.96, Tps17.8  |
| 2    | 25.61 | SRR1.51, Tps26.92 |
| 3    | 26.83 | SRR2.23, Tps39.58 |
| 4    | 26.83 | SRR2.83, Tps49.97 |
| 5    | 26.22 | SRR3.49, Tps61.31 |
| 6    | 22.56 | SRR4.28, Tps74.61 |
| 7    | 23.17 | SRR4.99, Tps86.10 |
| 8    | 25.61 | SRR5.71, Tps91.44 |

#### MBPP

w in Exp_only

| N    | Score  | Metrics           |
| ---- | ------ | ----------------- |
| 1    | 27.6   | SRR2.34, Tps19.63 |
| 2    | 25.2   | SRR4.09, Tps33.86 |
| 3    | 25     | SRR4.88, Tps40.25 |
| 4    | 27.2 * | SRR5.97, Tps49.10 |
| 5    | 25.8   | SRR6.94, Tps56.33 |
| 6    | 24.8   | SRR7.63, Tps62.23 |
| 7    | 25.4 * | SRR8.30, Tps67.11 |
| 8    | 23     | SRR8.66, Tps70.61 |

#### Math-500

| N    | Score  | Metrics           |
| ---- | ------ | ----------------- |
| 1    | 37.4   | SRR1.70, Tps14.91 |
| 2    | 31     | SRR2.17, Tps19.02 |
| 3    | 31.2   | SRR2.73, Tps24.01 |
| 4    | 33.6 * | SRR3.39, Tps29.78 |
| 5    | 31.6   | SRR3.92, Tps34.37 |
| 6    | 27.4   | SRR4.39, Tps38.40 |
| 7    | 29.2   | SRR4.80, Tps41.96 |
| 8    | 29.8 * | SRR5.18, Tps45.20 |



## semi-ar

### LLaDA baseline

max

| Task          | Score | metrics |
| ------------- | ----- | ------- |
| Gsm8k         |       |         |
| HumanEval(BL) |       |         |
| MBPP          |       |         |
| Math-500      |       |         |
|               |       |         |



**HumanEval** (SL256)

| Blcok__length | Score | metrics |
| ------------- | ----- | ------- |
| 32            | 40.24 |         |
| 64            | 39.63 |         |
| 128           | 28.05 |         |



### Fixed Threshold

**GSM8K(SL256, BL64)**

| Blcok__length   | Score | metrics           |
| --------------- | ----- | ----------------- |
| 32              |       |                   |
| 64 (acc_tr0.9)  | 79    | SRR3.40, Tps23.13 |
| 64 (acc_tr0.95) | 79.15 | SRR2.81, Tps19.10 |
| 128             |       |                   |

**HumanEval(SL256, BL64)**

| Blcok__length | Score | metrics           |
| ------------- | ----- | ----------------- |
| 32            | 39.63 | SRR2.56, Tps47.25 |
| 64            | 39.02 | SRR2.75, Tps50.89 |
| 128           | 26.22 | SRR3.86, Tps69.88 |



### Factor

**GSM8K(SL256, BL64)**

| Blcok__length | Score | metrics           |
| ------------- | ----- | ----------------- |
| 32            |       |                   |
| 64            | 77.71 | SRR4.47, Tps30.35 |
| 128           |       |                   |

**HumanEval(SL256, BL64)**

| Blcok__length | Score | metrics           |
| ------------- | ----- | ----------------- |
| 32            | 40.24 | SRR3.34, Tps61.35 |
| 64            | 40.85 | SRR3.65, Tps66.91 |
| 128           | 30.49 | SRR5.32, Tps95,71 |



### DiCo+

w in Exp_only

#### SL256

##### BL32

**HumanEval**

| N    | Score | Metrics           |
| ---- | ----- | ----------------- |
| 1    | 38.41 | SRR1.56, Tps28.22 |
| 2    |       |                   |

##### **BL64**

===> p3+版 (mptr=3, acc_tr=0.9, exp_tr=0.1)

=== use fixed threshold

**GSM8K**

| N    | Score | Metrics           |
| ---- | ----- | ----------------- |
| 1    | 76.95 | SRR2.22, Tps15.03 |
| 2    | 75.44 | SRR3.01, Tps20.37 |
| 3    | 73.31 | SRR3.83, Tps25.86 |
| 4    | 69.07 | 无意义            |



**HumanEval**

| N    | Score | Metrics           |
| ---- | ----- | ----------------- |
| 1    | 40.85 | SRR1.91, Tps34.48 |
| 2    | 29.27 | 无意义            |

**MBPP**



**MATH-500**



##### **BL128**

**GSM8K**

| N    | Score | Metrics           |
| ---- | ----- | ----------------- |
|      |       |                   |
| 2    | 75.44 | SRR2.70, Tps18.46 |
| 3    | 69.45 | SRR3.36, Tps22.89 |
| 4    | 69.67 | SRR3.92, Tps26.66 |
|      |       |                   |
| 6    |       |                   |



**humaneval**

| N    | Score | Metrics           |
| ---- | ----- | ----------------- |
| 1    | 35.98 | SRR1.62, Tps29.54 |
| 2    | 26.83 | SRR2.60, Tps46.37 |
| 3    | 20.73 | SRR3.58, Tps63.17 |
| 4    | 25.61 | SRR4.12, Tps72.17 |
| 5    | 18.9  | SRR5.02, Tps86.52 |



|      |      |      |
| ---- | ---- | ---- |
|      |      |      |
|      |      |      |

#### SL512

##### BL128

| N    | Score | Metrics           |
| ---- | ----- | ----------------- |
| 1    | 32.93 | SRR2.75, Tps32.32 |
| 2    | 21.95 | SRR3.67, Tps42.37 |
| 3    | 17.68 |                   |
| 4    | 24.39 |                   |



## tiny experiments



### Observation 1 

gsm8k SL256 0-shot 

| topk | score | Metrics   |
| ---- | ----- | --------- |
| 1    | 52.92 | Tps21.22  |
| 2    | 50.04 | Tps41.33  |
| 3    | 47.16 | Tps61.55  |
| 4    | 44.81 | Tps82.66  |
| 5    | 42.38 | Tps101.85 |
| 6    | 41.55 | Tps122.87 |

mbpp SL128 0-shot

| topk | score | Metrics   |
| ---- | ----- | --------- |
| 1    | 8.2   | Tps24.02  |
| 2    | 7.6   | Tps48.07  |
| 3    | 9.8   | Tps71.59  |
| 4    | 8.4   | Tps96.64  |
| 5    | 4.6   | Tps118.81 |
| 6    | 4.8   | Tps140.21 |

humaneval SL258 0-shot

...

math-500 0-shot

| topk | Score | Metrics   |
| ---- | ----- | --------- |
| 1    | 25.8  | Tps19.93  |
| 2    | 25.4  | Tps39/83  |
| 3    | 25    | Tps59.23  |
| 4    | 22.2  | Tps79.90  |
| 5    | 21.2  | Tps98.50  |
| 6    | 19    | Tps119.10 |















git token: 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

